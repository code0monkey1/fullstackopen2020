(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),c=t.n(o),u=t(14),i=t(2),l=function(e){var n=e.person,t=e.deletePerson;return r.a.createElement("div",null,n.name,"  ",n.number,r.a.createElement("button",{id:n.id,onClick:function(){return t(n)}},"delete"))},m=function(e){var n=e.action;return r.a.createElement("div",null,"filter show with : ",r.a.createElement("input",{onChange:n,type:"text"}))},d=function(e){var n=e.addName,t=e.newName,a=e.onTypingName,o=e.newNumber,c=e.onTypingNumber;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:t,onChange:a}),r.a.createElement("br",null),"number : ",r.a.createElement("input",{value:o,onChange:c})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},s=t(3),f=t.n(s),b="/api/persons",h=function(){return f.a.get(b).then((function(e){return console.log("The response data is ",e.data),e.data}))},p=function(e){return console.log("The log to create has been triggerd ",e),f.a.post(b,e).then((function(e){return e.data}))},v=function(e){return f.a.delete("".concat(b,"/").concat(e))},E=function(e,n){return f.a.put("".concat(b,"/").concat(e),n).then((function(e){return e.data}))},g=function(e){var n=e.notification,t=e.entryValid;return null===n?r.a.createElement("div",null):r.a.createElement("div",{className:t?"validEntry":"error"},n)},w=(t(37),function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],o=n[1],c=Object(a.useState)(""),s=Object(i.a)(c,2),f=s[0],b=s[1],w=Object(a.useState)(""),j=Object(i.a)(w,2),y=j[0],O=j[1],N=Object(a.useState)(!1),k=Object(i.a)(N,2),T=k[0],S=k[1],C=Object(a.useState)([]),P=Object(i.a)(C,2),x=P[0],J=P[1],L=Object(a.useState)(null),V=Object(i.a)(L,2),B=V[0],D=V[1],I=Object(a.useState)(!0),q=Object(i.a)(I,2),z=q[0],A=q[1];Object(a.useEffect)((function(){h().then((function(e){return o(e)}))}),[]);var F=function(e){v(e.id).catch((function(n){console.log("an error ",n," has occured while deleting"),A(!1),D("the person '".concat(e.name,"' was already deleted from server")),setTimeout((function(){D(null)}),5e3),o(t.filter((function(n){return n.name!==e.name}))),b(""),O("")})),o(t.filter((function(n){return n.id!==e.id})))};return console.log("search for matching names",T),r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(g,{notification:B,entryValid:z}),r.a.createElement(m,{action:function(e){S(!0);var n=e.target.value;console.log(n),J(t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))),console.log(x)}}),r.a.createElement("h3",null,"add a new "),r.a.createElement(d,{addName:function(e){if(e.preventDefault(),S(!1),t.some((function(e){return e.name===f}))){var n=t.find((function(e){return e.name===f}));if(window.confirm("".concat(f," \n         is already added to phonebook ,\n         do you want to add the new number ? "))){var a=Object(u.a)({},n,{number:y});E(n.id,a).then((function(e){return o(t.map((function(n){return n.name===e.name?e:n})))})).catch((function(e){A(!1),D("the person '".concat(n.name,"' was already deleted from server")),o(t.filter((function(e){return e.name!==n.name}))),b(""),O("")})),A(!0),D("Note '".concat(f,"' with number ").concat(y," has been added")),setTimeout((function(){D(null)}),5e3),O(""),b("")}return b(""),void O("")}p({name:f,number:y}).then((function(e){return o(t.concat(e))})),D("Note '".concat(f,"' with number ").concat(y," has been added")),setTimeout((function(){D(null)}),5e3),O(""),b("")},newName:f,newNumber:y,onTypingName:function(e){b(e.target.value)},onTypingNumber:function(e){O(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),T?x.map((function(e){return r.a.createElement(l,{key:e.name,person:e})})):t.map((function(e){return r.a.createElement(l,{key:e.name,person:e,deletePerson:F})})))});c.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.32fd7da4.chunk.js.map